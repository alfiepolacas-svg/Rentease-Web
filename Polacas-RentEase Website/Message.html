<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message</title>
    <link rel="stylesheet" href="./CSS Folder/Message.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
   <!-- Header -->
    <header class="header">
        <div class="nav-links">
            <div class="items"><button onclick="location.href='Dashboard.html'"><i class="fas fa-home"></i>Dashboard</button></div>
            <div class="items"><button onclick="location.href='Properties.html'"><i class="fas fa-layer-group"></i>Properties</button></div>
            <div class="items"><button onclick="location.href='Transaction.html'"><i class="fas fa-credit-card"></i>Transaction</button></div>
            <div class="items"><button onclick="location.href='Message.html'"><i class="fas fa-message"></i>Message</button></div>
            <div class="items"><button onclick="location.href='Report.html'"><i class="fas fa-chart-bar"></i>Report</button></div>
        </div>
        
        <div class="controls">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Search properties..." onkeypress="handleSearch(event)">
            </div>

            <div class="notification-btn" onclick="toggleNotifications()">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationCount">3</span>
                <div class="dropdown" id="notificationDropdown">
                    <div class="dropdown-header">
                        <h4>Notifications</h4>
                    </div>
                    <div class="dropdown-item" onclick="handleNotification('inquiry')">
                        <div>
                            <div>New property inquiry</div>
                            <small style="opacity: 0.7;">2 minutes ago</small>
                        </div>
                    </div>
                    <div class="dropdown-item" onclick="handleNotification('payment')">
                        <div>
                            <div>Payment received from Sanny Sabio</div>
                            <small style="opacity: 0.7;">1 hour ago</small>
                        </div>
                    </div>
                    <div class="dropdown-item" onclick="handleNotification('maintenance')">
                        <div>
                            <div>Property maintenance scheduled</div>
                            <small style="opacity: 0.7;">3 hours ago</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-btn" onclick="toggleProfileDropdown()">
                <img src="./assetsFilesImages/dog.jpg" alt="Profile" class="profile-img">
                <div class="dropdown" id="profileDropdown">
                    <div class="dropdown-header">
                        <div class="profile-info">
                            <img src="./assetsFilesImages/dog.jpg" alt="Profile" class="profile-img">
                            <div class="profile-details">
                                <h4>Polacas, Alfie Lynard</h4>
                                <p>alfiepolacas@g.cjc.edu.ph</p>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown-item" onclick="showPrivacyPolicy()">
                        <i class="fas fa-shield-alt"></i>
                        <span>Privacy & Policy</span>
                    </div>
                    <div class="dropdown-item" onclick="toggleTheme()">
                        <i class="fas fa-moon"></i>
                        <div class="theme-toggle">
                            <span>Theme</span>
                            <div class="theme-switch" id="themeSwitch"></div>
                        </div>
                    </div>
                    <div class="dropdown-item logout" onclick="handleLogout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="messaging-container">
        <div class="sidebar">
            <div class="messages-header">
                Messages
            </div>
            
            <div class="chat-search">
                <input type="text" placeholder="Search chat" id="chatSearch">
            </div>

            <div class="pinned-section">
                <div class="pinned-header">
                    <i class="fas fa-thumbtack"></i>
                    <span>Pinned</span>
                </div>
                
                <div class="chat-item pinned active" data-chat-id="1">
                    <div class="chat-avatar">
                        <img src="./assetsFilesImages/sanny.jpg" alt="Sanny Sabio">
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">Sanny Sabio</div>
                        <div class="chat-preview">Good evening pre Salamat sa service nindut! kaayu ang apartment!!!</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">8:42</div>
                        <div class="unread-badge">1</div>
                    </div>
                </div>
            </div>

            <div class="chat-list">
                <h4>All Messages</h4>
                
                <div class="chat-item" data-chat-id="2">
                    <div class="chat-avatar">
                        <img src="./assetsFilesImages/dacer.jpg" alt="John Paul Dacer">
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">John Paul Dacer</div>
                        <div class="chat-preview">How About sa Kuyente ug tubig?</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">7:12</div>
                        <div class="unread-badge">1</div>
                    </div>
                </div>

                <div class="chat-item" data-chat-id="3">
                    <div class="chat-avatar">
                        <img src="assetsFilesImages/Andrei.jpg" alt="Andrei Besañez">
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">Andrei Besañez</div>
                        <div class="chat-preview">Thank you for your help yesterday!</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">Yesterday</div>
                    </div>
                </div>

                <div class="chat-item" data-chat-id="4">
                    <div class="chat-avatar">
                        <img src="assetsFilesImages/Julios.jpg" alt="Julios Dumagan">
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">Julios Dumagan</div>
                        <div class="chat-preview">Can we schedule a meeting?</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">Monday</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-area">
            <div id="noChatSelected" class="no-chat-selected">
                <i class="fas fa-comment-alt"></i>
                <p>Select a conversation to start messaging</p>
            </div>

            <div id="chatContainer" style="display: none; flex-direction: column; height: 100%;">
                <div class="chat-header">
                    <div class="chat-header-avatar">
                        <img id="chatHeaderAvatar" src="./assetsFilesImages/sanny.jpg" alt="Sanny Sabio">
                    </div>
                    <div class="chat-header-info">
                        <h3 id="chatHeaderName">Sanny Sabio</h3>
                        <div class="online-status" id="chatHeaderStatus">Online</div>
                    </div>
                </div>

                <div class="messages-area" id="messagesArea">
                    <!-- Messages will be dynamically loaded here -->
                </div>

                <div id="typingIndicator" class="typing-indicator" style="display: none; padding: 10px 25px; font-size: 13px; color: #666; font-style: italic;">
                    <span id="typingUser"></span> is typing
                    <div class="typing-dots" style="display: inline-flex; gap: 2px; margin-left: 5px;">
                        <div class="typing-dot" style="width: 4px; height: 4px; border-radius: 50%; background-color: #999; animation: typing 1.4s infinite ease-in-out;"></div>
                        <div class="typing-dot" style="width: 4px; height: 4px; border-radius: 50%; background-color: #999; animation: typing 1.4s infinite ease-in-out; animation-delay: 0.2s;"></div>
                        <div class="typing-dot" style="width: 4px; height: 4px; border-radius: 50%; background-color: #999; animation: typing 1.4s infinite ease-in-out; animation-delay: 0.4s;"></div>
                    </div>
                </div>

                <div class="message-input-area">
                    <div class="message-input-container">
                        <textarea id="messageInput" class="message-input" placeholder="Type a message..." rows="1"></textarea>
                        <button id="sendButton" class="send-button" disabled>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-shield-alt"></i>
                    Privacy & Policy
                </h2>
                <button class="modal-close" onclick="closePrivacyModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <h3>Data Collection</h3>
                <p>We collect information you provide directly to us, such as when you create an account, use our services, or contact us for support. This includes personal information like your name, email address, and property details.</p>
                
                <h3>Information Usage</h3>
                <p>We use the information we collect to provide, maintain, and improve our services, process transactions, send you technical notices and support messages, and communicate with you about products and services.</p>
                
                <h3>Data Security</h3>
                <p>We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction.</p>
                
                <h3>Third-Party Services</h3>
                <p>We may share your information with third-party service providers who perform services on our behalf, such as payment processing, data analysis, and customer service.</p>
                
                <h3>Your Rights</h3>
                <p>You have the right to access, update, or delete your personal information. You may also opt out of certain communications from us.</p>
                
                <h3>Contact Information</h3>
                <p>If you have any questions about this Privacy Policy, please contact us at privacy@property.com</p>
                
                <p><strong>Last updated:</strong> January 2024</p>
            </div>
        </div>
    </div>
    
    <script src="./JS Folder/Message.js"></script>

</body>
</html>